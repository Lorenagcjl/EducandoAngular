<div class="container mt-4">

  <div class="row mb-3">
    <div class="col-md-4">
      <input [(ngModel)]="nombreBuscar" class="form-control" placeholder="Buscar por nombre..." />
    </div>
    <div class="col-md-3">
  <select [(ngModel)]="mes" class="form-select">
    <option [ngValue]="null">Mes</option>
    <option *ngFor="let m of meses" [value]="m.numero">{{ m.nombre }}</option>
  </select>
</div>
    <div class="col-md-3">
      <input [(ngModel)]="anio" class="form-control" placeholder="Año (ej: 2025)" type="number" />
    </div>
    <div class="col-md-2">
      <button class="btn btn-primary w-100" (click)="cargar()">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </div>

  <div class="table-responsive" style="max-height: 500px; overflow-y: auto; border: 1px solid #dee2e6; border-radius: .5rem;">
    <table class="table table-hover table-bordered align-middle text-nowrap mb-0">
      <thead class="table-primary position-sticky top-0">
        <tr>
          <th>Nombre</th>
          <th>Cédula</th>
          <th>Correo</th>
          <th>Estado</th>
          <th>Fecha Registro</th>
          <th>Fecha Resolución</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let i of inscripciones">
          <td>{{ i.nombres }} {{ i.apellidos }}</td>
          <td>{{ i.cedula }}</td>
          <td>{{ i.correo }}</td>
          <td>
            <span class="badge bg-success d-flex align-items-center gap-1" *ngIf="i.estadoInscripcion === 'Aprobado'">
              <i class="bi bi-check-circle-fill"></i> Aprobado
            </span>
            <span class="badge bg-danger d-flex align-items-center gap-1" *ngIf="i.estadoInscripcion === 'Rechazado'">
              <i class="bi bi-x-circle-fill"></i> Rechazado
            </span>
          </td>
          <td>{{ i.fechaRegistro | date:'short' }}</td>
          <td>{{ i.fechaResolucion | date:'short' }}</td>
        </tr>
        <tr *ngIf="inscripciones.length === 0">
          <td colspan="6" class="text-center text-muted">No hay inscripciones procesadas.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
